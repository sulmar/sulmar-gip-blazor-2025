@page "/customers"
@inject IAsyncCustomerService Api

<MudText Typo="Typo.h3">Customer List</MudText>

<MudButton Href="/customers/create" StartIcon="@Icons.Material.Filled.Add"
Color="Color.Primary">Dodaj</MudButton>

<MudDataGrid Items="customers">
    <Columns>
        <PropertyColumn Property="x => x.Name" Title="Nazwa" />
        <PropertyColumn Property="x => x.Email" />
        <PropertyColumn Property="x => x.IsArchived" Title="Archiwalny" />
        <TemplateColumn>
            <CellTemplate>
                <MudStack Row>
                    <MudIconButton Icon="@Icons.Material.Outlined.Edit" Href="@($"/customers/{context.Item.Id}")"  />
                </MudStack>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
</MudDataGrid>

@code {

    private List<Customer>? customers;

    protected override async Task OnInitializedAsync()
    {
        customers = await Api.GetAll();
    }

}
