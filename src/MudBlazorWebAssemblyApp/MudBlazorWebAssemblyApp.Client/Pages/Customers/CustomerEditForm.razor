<EditForm Model="@customer" FormName="CustomerForm" OnValidSubmit="@OnValidSubmitHandler">

    <Blazored.FluentValidation.FluentValidationValidator />

    <MudGrid>
        <MudItem xs="12" sm="7">
            <MudCard>
                <MudCardContent>
                    <MudTextField Label="Nazwa" @bind-Value=@customer.Name For="@(() => customer.Name)" />
                    <MudTextField Label="Email" @bind-Value=@customer.Email For="@(() => customer.Email)" />
                    <MudCheckBox Label="Archiwalny" @bind-Value=@customer.IsArchived Color="Color.Primary" />

                    <MudSelect T="Region" Label="Region" @bind-Value=@customer.Region>
                        @foreach (var region in regions!)
                        {
                            <MudSelectItem Value="region">@region.Name</MudSelectItem>
                        }
                    </MudSelect>

                    <MudTextField Label="Kod klienta" @bind-Value=@customer.Code For="@(() => customer.Code)" />
                    <MudDatePicker Label="Data urodzenia" @bind-Date=@customer.Birthday For="@(() => customer.Birthday)" />
                    <MudNumericField Label="Dochód" @bind-Value=@customer.Salary For="@(() => customer.Salary)" />

                    <MudTextField Label="Hasło" @bind-Value=@customer.Password For="@(() => customer.Password)" />
                    <MudTextField Label="Powtorz hasło" @bind-Value=@customer.ConfirmPassword For="@(() => customer.ConfirmPassword)" />

                    <MudSwitch Label="Zgoda na NewsLeter" @bind-Value="@customer.Newsletter" Color="Color.Primary"
                               For="@(() => customer.Newsletter)" />

                </MudCardContent>

                <MudCardActions>
                    <MudButton ButtonType="ButtonType.Submit" Color="Color.Primary" Variant="Variant.Filled">Zapisz</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
    </MudGrid>
</EditForm>

@code {

    [Parameter]
    public Customer customer { get; set; }

    [Parameter]
    public List<Region>? regions { get; set; }

    [Parameter]
    public EventCallback<EditContext> OnValidSubmit { get; set; }

    [Parameter]
    public bool ReadOnly { get; set; }

    private async Task OnValidSubmitHandler(EditContext context)
    {
        await OnValidSubmit.InvokeAsync(context); // wywolanie zdarzenia (call)
    }



   
}
